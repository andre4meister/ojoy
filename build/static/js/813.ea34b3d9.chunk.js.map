{"version":3,"file":"static/js/813.ea34b3d9.chunk.js","mappings":"6IACA,EAAwB,yB,SCMxB,EAJkB,SAAHA,GAAmB,IAAbC,EAAKD,EAALC,MACnB,OAAOC,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAaC,SAAEJ,GACxC,C,+ECUA,IAZoB,SAAHD,GAA2B,IAArBM,EAAGN,EAAHM,IAAGC,EAAAP,EAAEQ,IAAAA,OAAG,IAAAD,EAAG,GAAEA,EAClCE,GAAkCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAQ9B,OANAI,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAmBV,GAAKW,MAAK,SAACJ,GAC5BC,EAAaD,EACf,GACF,GAAG,CAACP,KAEGJ,EAAAA,EAAAA,KAAA,OAAKgB,IAAKL,EAAWL,IAAKA,GACnC,C,2DCsBA,IAjCsB,WACpB,IAAAC,GAAoCC,EAAAA,EAAAA,UAASS,GAAcR,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAApDW,EAAUT,EAAA,GAAEU,EAAaV,EAAA,GAEhC,SAASQ,IACP,IAAMG,EAAQC,OAAOC,WACrB,OAAIF,GAAS,KACJ,KACEA,GAAS,IACX,IACEA,GAAS,IACX,IACEA,GAAS,IACX,IAEA,IAEX,CAcA,OAZAP,EAAAA,EAAAA,YAAU,WACR,SAASU,IACPJ,EAAcF,IAChB,CAIA,OAFAI,OAAOG,iBAAiB,SAAUD,GAE3B,WACLF,OAAOI,oBAAoB,SAAUF,EACvC,CACF,GAAG,IAEIL,CACT,C,8KChCA,EAA4B,6BAA5B,EAAmE,2BAAnE,EAAyG,4BAAzG,EAAiJ,6BAAjJ,EAAqL,wBAArL,EAAoN,wBAApN,EAA0P,+BAA1P,EAAsS,8BAAtS,EAAwV,qCAAxV,EAAiZ,qCAAjZ,EAAoc,+BAApc,EAA8e,4BAA9e,EAAyhB,gCAAzhB,EAAmkB,2BAAnkB,EAAumB,0BAAvmB,EAAyoB,yBAAzoB,EAA6qB,4BAA7qB,EAAmtB,2BAAntB,EAA+vB,kC,UCA/vB,EAAwB,2BAAxB,EAAgE,gC,6BCmDhE,EA9CoB,SAAHpB,GAAiB,IAAXM,EAAGN,EAAHM,IACrBG,GAA+BC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAtCI,EAASF,EAAA,GAAEiB,EAASjB,EAAA,GAC3BkB,GAA8BnB,EAAAA,EAAAA,WAAS,GAAMoB,GAAAlB,EAAAA,EAAAA,GAAAiB,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAQ1B,OANAf,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAmBV,GAAKW,MAAK,SAACgB,GAC5BL,EAAUK,EACZ,GACF,GAAG,CAAC3B,IAECO,GAMHqB,EAAAA,EAAAA,MAAA,OAAA7B,SAAA,EACEH,EAAAA,EAAAA,KAACiC,EAAAA,EAAW,CACV7B,IAAKO,EACLuB,UAAQ,EACRL,QAASA,EACTM,OAAQ,GACRC,OAAQ,kBAAMN,GAAW,EAAK,EAC9BO,QAAS,kBAAMP,GAAW,EAAM,EAChCQ,aAAc,EACdrC,UAAWC,KAEX2B,IACA7B,EAAAA,EAAAA,KAAA,OACEC,UAAWC,EACXqC,QAAS,kBAAMT,GAAW,EAAK,EAC/BV,MAAM,MACNoB,OAAO,MACPC,QAAQ,cACRC,MAAM,6BAA4BvC,UAElCH,EAAAA,EAAAA,KAAA,QACE2C,EAAE,6rCACFC,KAAK,uBA1BX5C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAI,CAACC,KAAK,QAAQC,UAAU,EAAMC,MAAO,CAAEC,UAAW,OAAQC,SAAU,WAAYC,IAAK,MAAOC,KAAM,QAgC7G,E,iDCiFA,EA3HkB,SAAHtD,GAAmB,IAAbuD,EAAKvD,EAALuD,MAEjBC,EAaED,EAbFC,KACAC,EAYEF,EAZFE,KACAC,EAWEH,EAXFG,OACAC,EAUEJ,EAVFI,MACAC,EASEL,EATFK,OACAC,EAQEN,EARFM,UACAC,EAOEP,EAPFO,OACAC,EAMER,EANFQ,YACAC,EAKET,EALFS,SACAC,EAIEV,EAJFU,QACAC,EAGEX,EAHFW,aACAC,EAEEZ,EAFFY,OACAC,EACEb,EADFa,QAEIC,EAAeD,EAAQE,OAC7B7D,GAA8BC,EAAAA,EAAAA,UAAS0D,EAAQ,IAAGzD,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA3C8D,EAAO5D,EAAA,GAAE6D,EAAU7D,EAAA,GAEpBS,GAAaqD,EAAAA,EAAAA,KAanB,OACEvC,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAiBC,SAAA,EAC/B6B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAeC,SAAA,EAC7B6B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAgBC,SAAA,EAC9BH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAiBC,UAC/BH,EAAAA,EAAAA,KAACwE,EAAAA,EAAW,CAACpE,IAAK4D,EAAc1D,IAAKgD,OAEvCtB,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAYC,SAAA,EAC1BH,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAYC,SAAEmD,KAC7BtB,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAmBC,SAAA,EACjC6B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,wBAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAEoD,QAE9CvB,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,gDAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAEgE,QAE9CnC,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,0CAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAEqD,QAE9CxB,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,8BAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAEsD,EAAMgB,KAAK,YAEzDzC,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,0CAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAEuD,QAE9C1B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,oCAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAEwD,QAE9C3B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,gDAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAEyD,QAE9C5B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,kEAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAE2D,QAE9C9B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAkBC,SAAA,EAChCH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAC,gDAC3CH,EAAAA,EAAAA,KAAA,QAAMC,UAAWC,EAAyBC,SAAE4D,WAGhD/D,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAmBC,SAAE0D,WAGzC7B,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAgBC,SAAA,EAC9BH,EAAAA,EAAAA,KAAC0E,EAAAA,EAAS,CAAC3E,MAAM,2DAChBkE,EAAOG,OAAS,IACfpE,EAAAA,EAAAA,KAAC2E,EAAAA,EAAQ,CACPC,UAAQ,EACRC,MAAM,EACNC,OAAO,EACPC,cAAe,IACfC,aArES,OAAf9D,EACK,EACiB,MAAfA,EACF,EACiB,MAAfA,EACF,EAEA,EA+DCjB,UAAWC,EAAoBC,SAE9B8D,EAAOgB,KAAI,SAACC,EAAOC,GAAK,OACvBnF,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAeC,UAC7BH,EAAAA,EAAAA,KAACwE,EAAAA,EAAW,CAACpE,IAAK8E,EAAO5E,IAAKgD,EAAO6B,KADFA,EAE/B,aAMhBnD,EAAAA,EAAAA,MAAA,OAAK/B,UAAWC,EAAcC,SAAA,EAC5BH,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAaC,UAC3BH,EAAAA,EAAAA,KAACoF,EAAW,CAAChF,IAAKiE,OAEpBrE,EAAAA,EAAAA,KAAA,OAAKC,UAAWC,EAAgBC,SAC7B+D,EAAQe,KAAI,SAACI,EAAQF,GAAK,OACzBnF,EAAAA,EAAAA,KAACsF,EAAAA,GAAM,CACL/C,QAAS,kBAAM+B,EAAWe,EAAO,EAEjCpF,UAAS,GAAAsF,OAAKrF,EAAc,KAAAqF,OAAIF,IAAWhB,EAAUnE,EAAwB,IAC7EsF,SAAUnB,IAAYgB,EAAOlF,SAE5BgF,EAAQ,GAJJA,EAKE,WAMrB,E,UC7DA,EA3D0B,WACxB,IAAQM,GAAOC,EAAAA,EAAAA,MAAPD,GAEFlC,GADWoC,EAAAA,EAAAA,MACKC,SAASC,MAAM,KAAKC,QAAO,SAACC,GAAC,MAAW,KAANA,CAAQ,IAAE,GAClEC,QAAQC,IAAI1C,GACZ,IAAA2C,GAKIC,EAAAA,EAAAA,GAAS,CACXC,SAAU,CAAC,YAAa,CAAEX,GAAAA,IAC1BY,SAAS,EACTC,UAAW,SAACC,GAAU,EACtBC,QAAS,SAACC,GACRT,QAAQC,IAAIQ,EACd,EACAC,QAAQ,WAAD,IAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACgBC,EAAAA,EAAAA,aAAuB5B,GAAI,KAAD,EACpB,OADvBuB,EAAQE,EAAAI,MACdC,EAAAA,EAAAA,GAAmBP,GAAUE,EAAAM,OAAA,SACtBR,EAAST,MAAI,wBAAAW,EAAAO,OAAA,GAAAV,EAAA,KACrB,yBAAAJ,EAAAe,MAAA,KAAAC,UAAA,EAJO,KAXGC,EAAc1B,EAAzB2B,UACOC,EAAU5B,EAAjBO,MACMsB,EAAS7B,EAAfK,KACSyB,EAAY9B,EAArB+B,QAeFC,GAKI/B,EAAAA,EAAAA,GAAS,CACXC,SAAU,CAAC,aAAc,CAAEX,GAAAA,IAC3BY,SAAS,EACTC,UAAW,SAACC,GAAU,EACtBC,QAAS,SAACC,GACRT,QAAQC,IAAIQ,EACd,EACAC,QAAQ,WAAD,IAAAyB,GAAAvB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAE,SAAAsB,IAAA,IAAApB,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAoB,GAAA,cAAAA,EAAAlB,KAAAkB,EAAAjB,MAAA,cAAAiB,EAAAjB,KAAA,EACgBkB,EAAAA,EAAAA,cAAyB7C,GAAI,KAAD,EACtB,OADvBuB,EAAQqB,EAAAf,MACdC,EAAAA,EAAAA,GAAmBP,GAAUqB,EAAAb,OAAA,SACtBR,EAAST,MAAI,wBAAA8B,EAAAZ,OAAA,GAAAW,EAAA,KACrB,yBAAAD,EAAAT,MAAA,KAAAC,UAAA,EAJO,KAXGY,EAAeL,EAA1BL,UACOW,EAAWN,EAAlBzB,MACMgC,EAAUP,EAAhB3B,KACSmC,EAAaR,EAAtBD,QAeIU,EAAuB,UAATpF,EACdsE,EAAYc,EAAcf,EAAiBW,EAC3C9B,EAAQkC,EAAcb,EAAaU,EACnCjC,EAAOoC,EAAcZ,EAAYU,EAMvC,OAJA5H,EAAAA,EAAAA,YAAU,WACR8H,EAAcX,EAAa,CAAC,YAAa,CAAEvC,GAAAA,KAASiD,EAAc,CAAC,aAAc,CAAEjD,GAAAA,IACrF,GAAG,CAACA,KAGFzF,EAAAA,EAAAA,KAAC4I,EAAAA,EAAY,CAACrC,KAAMA,EAAME,MAAOA,EAAOoC,QAAShB,EAAU1H,UACzDH,EAAAA,EAAAA,KAAC8I,EAAS,CAACzF,MAAOkD,KAGxB,C,2HC/DMwC,EAAaC,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,iBAAmB,OAC5CC,EAASF,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYG,mBAAqB,eAC1CC,EAAcJ,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYK,gBAAkB,uBAC5CC,EAAkBN,CAAAA,SAAAA,aAAAA,WAAAA,GAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYO,uBAAyB,2CAEvDC,EAAW,IAAIC,EAAAA,EAAS,CAC5BP,OAAAA,EACAQ,YAAa,CACXN,YAAAA,EACAE,gBAAAA,KAwBG,SAAexI,EAAkB6I,GAAA,OAAAC,EAAAlC,MAAC,KAADC,UAAA,CASvC,SAAAiC,IAAA,OAAAA,GAAAhD,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MATM,SAAAC,EAAkC8C,GAAG,IAAAC,EAAAC,EAAA,OAAAlD,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAOnB,OANjB0C,EAAS,CACbE,OAAQjB,EACRkB,IAAKJ,GAGDE,EAAU,IAAIG,EAAAA,EAAiBJ,GACrB,MAAO5C,EAAAE,KAAA,GACV+C,EAAAA,EAAAA,GAAaX,EAAUO,EAAS,CAAEK,UAD/B,QACqD,KAAD,SAAAlD,EAAAM,OAAA,SAAAN,EAAAI,MAAA,wBAAAJ,EAAAO,OAAA,GAAAV,EAAA,MACrEW,MAAA,KAAAC,UAAA,C","sources":["webpack://ojoy/./src/components/PageTitle/PageTitle.module.scss?9566","components/PageTitle/PageTitle.jsx","components/SignedImage/SignedImage.jsx","hooks/useScreenSize.js","webpack://ojoy/./src/pages/MoviePage/MoviePage.module.scss?10cb","webpack://ojoy/./src/components/VideoPlayer/VideoPlayer.module.scss?876b","components/VideoPlayer/VideoPlayer.jsx","pages/MoviePage/MoviePage.jsx","pages/MoviePage/MoviePageProvider.jsx","s3.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"PageTitle_title__ouGV9\"};","import React from 'react';\nimport styles from './PageTitle.module.scss';\n\nconst PageTitle = ({ title }) => {\n  return <div className={styles.title}>{title}</div>;\n};\n\nexport default PageTitle;\n","import { useEffect, useState } from 'react';\nimport { getObjectSignedUrl } from '../../s3';\n\nconst SignedImage = ({ url, alt = '' }) => {\n  const [signedUrl, setSignedUrl] = useState(null);\n\n  useEffect(() => {\n    getObjectSignedUrl(url).then((signedUrl) => {\n      setSignedUrl(signedUrl);\n    });\n  }, [url]);\n\n  return <img src={signedUrl} alt={alt} />;\n};\n\nexport default SignedImage;\n","import { useEffect, useState } from 'react';\n\nconst useScreenSize = () => {\n  const [screenSize, setScreenSize] = useState(getScreenSize);\n\n  function getScreenSize() {\n    const width = window.innerWidth;\n    if (width >= 1440) {\n      return 'xl';\n    } else if (width >= 1000) {\n      return 'l';\n    } else if (width >= 768) {\n      return 'm';\n    } else if (width >= 480) {\n      return 's';\n    } else {\n      return 'xs';\n    }\n  }\n\n  useEffect(() => {\n    function handleResize() {\n      setScreenSize(getScreenSize());\n    }\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  return screenSize;\n};\n\nexport default useScreenSize;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviePage_container__+PjBM\",\"content\":\"MoviePage_content__vZDiM\",\"mainInfo\":\"MoviePage_mainInfo__a4LMZ\",\"mainPhoto\":\"MoviePage_mainPhoto__YaYxi\",\"info\":\"MoviePage_info__LL2KA\",\"name\":\"MoviePage_name__r+E4Q\",\"info__items\":\"MoviePage_info__items__AwxAi\",\"info__item\":\"MoviePage_info__item__tK9qF\",\"info__item__title\":\"MoviePage_info__item__title__Hb78U\",\"info__item__value\":\"MoviePage_info__item__value__4mtsU\",\"description\":\"MoviePage_description__Fek5s\",\"pictures\":\"MoviePage_pictures__XVhzG\",\"picturesList\":\"MoviePage_picturesList__A5zA3\",\"picture\":\"MoviePage_picture__l8-zi\",\"player\":\"MoviePage_player__EOyyG\",\"video\":\"MoviePage_video__M18G5\",\"episodes\":\"MoviePage_episodes__-A4bI\",\"episode\":\"MoviePage_episode__a4tgs\",\"episode_active\":\"MoviePage_episode_active__CZWeV\"};","// extracted by mini-css-extract-plugin\nexport default {\"video\":\"VideoPlayer_video__s7ged\",\"playButton\":\"VideoPlayer_playButton__pgK3w\"};","import React, { useEffect, useState } from 'react';\nimport ReactPlayer from 'react-player';\nimport styles from './VideoPlayer.module.scss';\nimport { getObjectSignedUrl } from '../../s3';\nimport { Spin } from 'antd';\n\nconst VideoPlayer = ({ url }) => {\n  const [signedUrl, setNewUrl] = useState(null);\n  const [playing, setPlaying] = useState(false);\n\n  useEffect(() => {\n    getObjectSignedUrl(url).then((res) => {\n      setNewUrl(res);\n    });\n  }, [url]);\n\n  if (!signedUrl) {\n    return (\n      <Spin size=\"large\" spinning={true} style={{ translate: '-50%', position: 'absolute', top: '50%', left: '50%' }} />\n    );\n  }\n  return (\n    <div>\n      <ReactPlayer\n        url={signedUrl}\n        controls\n        playing={playing}\n        volume={0.7}\n        onPlay={() => setPlaying(true)}\n        onPause={() => setPlaying(false)}\n        playbackRate={1.0}\n        className={styles.video}\n      />\n      {!playing && (\n        <svg\n          className={styles.playButton}\n          onClick={() => setPlaying(true)}\n          width=\"128\"\n          height=\"128\"\n          viewBox=\"0 0 128 128\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M50.8754 86.9855L87.0174 64.0001L50.8754 40.9827V86.9855ZM64.0044 118.13C56.5851 118.13 49.5832 116.714 42.999 113.88C36.4147 111.046 30.6639 107.171 25.7466 102.254C20.8292 97.3362 16.9537 91.5869 14.12 85.0055C11.2864 78.4242 9.86963 71.4238 9.86963 64.0045C9.86963 56.4962 11.2864 49.4499 14.12 42.8657C16.9537 36.2814 20.8275 30.5522 25.7415 25.6782C30.6555 20.8042 36.404 16.9456 42.987 14.1024C49.5698 11.2592 56.5718 9.83765 63.993 9.83765C71.503 9.83765 78.5514 11.2584 85.1382 14.1C91.725 16.9416 97.4546 20.7979 102.327 25.6691C107.199 30.5403 111.057 36.2684 113.899 42.8535C116.741 49.4387 118.162 56.4875 118.162 64.0001C118.162 71.4224 116.741 78.4255 113.898 85.0094C111.054 91.5933 107.196 97.3426 102.322 102.257C97.4479 107.172 91.7202 111.046 85.1388 113.88C78.5575 116.714 71.5127 118.13 64.0044 118.13ZM64 109.046C76.5372 109.046 87.1792 104.657 95.9262 95.8795C104.673 87.1016 109.046 76.4751 109.046 64.0001C109.046 51.4629 104.673 40.8208 95.9262 32.0739C87.1792 23.3271 76.5319 18.9536 63.984 18.9536C51.5251 18.9536 40.9053 23.3271 32.1247 32.0739C23.344 40.8208 18.9536 51.4682 18.9536 64.0161C18.9536 76.475 23.3426 87.0948 32.1206 95.8754C40.8985 104.656 51.525 109.046 64 109.046Z\"\n            fill=\"currentColor\"\n          />\n        </svg>\n      )}\n    </div>\n  );\n};\n\nexport default VideoPlayer;\n","import styles from './MoviePage.module.scss';\nimport VideoPlayer from '../../components/VideoPlayer/VideoPlayer';\nimport { Button, Carousel } from 'antd';\nimport PageTitle from '../../components/PageTitle/PageTitle';\nimport SignedImage from '../../components/SignedImage/SignedImage';\nimport { useState } from 'react';\nimport useScreenSize from '../../hooks/useScreenSize';\n\nconst MoviePage = ({ movie }) => {\n  const {\n    name,\n    type,\n    status,\n    genre,\n    studio,\n    createdAt,\n    rating,\n    description,\n    duration,\n    voicing,\n    mainPhotoUrl,\n    photos,\n    episods,\n  } = movie;\n  const episodsCount = episods.length;\n  const [episode, setEpisode] = useState(episods[0]);\n\n  const screenSize = useScreenSize();\n  const countPhotosForSlider = () => {\n    if (screenSize === 'xs') {\n      return 1;\n    } else if (screenSize === 's') {\n      return 2;\n    } else if (screenSize === 'm') {\n      return 3;\n    } else {\n      return 4;\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.content}>\n        <div className={styles.mainInfo}>\n          <div className={styles.mainPhoto}>\n            <SignedImage url={mainPhotoUrl} alt={name} />\n          </div>\n          <div className={styles.info}>\n            <h3 className={styles.name}>{name}</h3>\n            <div className={styles.info__items}>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Тип</span>\n                <span className={styles.info__item__value}>{type}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Епізоди</span>\n                <span className={styles.info__item__value}>{episodsCount}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Статус</span>\n                <span className={styles.info__item__value}>{status}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Жанр</span>\n                <span className={styles.info__item__value}>{genre.join(', ')}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Студія</span>\n                <span className={styles.info__item__value}>{studio}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Сезон</span>\n                <span className={styles.info__item__value}>{createdAt}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Рейтинг</span>\n                <span className={styles.info__item__value}>{rating}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Тривалість</span>\n                <span className={styles.info__item__value}>{duration}</span>\n              </div>\n              <div className={styles.info__item}>\n                <span className={styles.info__item__title}>Озвучка</span>\n                <span className={styles.info__item__value}>{voicing}</span>\n              </div>\n            </div>\n            <div className={styles.description}>{description}</div>\n          </div>\n        </div>\n        <div className={styles.pictures}>\n          <PageTitle title=\"Скріншоти\" />\n          {photos.length > 0 && (\n            <Carousel\n              autoplay\n              dots={false}\n              swipe={true}\n              autoplaySpeed={5000}\n              slidesToShow={countPhotosForSlider()}\n              className={styles.picturesList}\n            >\n              {photos.map((photo, index) => (\n                <div className={styles.picture} key={index}>\n                  <SignedImage url={photo} alt={name + index} />\n                </div>\n              ))}\n            </Carousel>\n          )}\n        </div>\n      </div>\n      <div className={styles.player}>\n        <div className={styles.video}>\n          <VideoPlayer url={episode} />\n        </div>\n        <div className={styles.episodes}>\n          {episods.map((episod, index) => (\n            <Button\n              onClick={() => setEpisode(episod)}\n              key={index}\n              className={`${styles.episode} ${episod === episode ? styles.episode_active : ''}`}\n              disabled={episode === episod}\n            >\n              {index + 1}\n            </Button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MoviePage;\n","import { useLocation, useParams } from 'react-router-dom';\nimport { useQuery } from '@tanstack/react-query';\nimport { MoviesApi as MoviesAPI } from '../../services/moviesAPI';\nimport checkResponseError from '../../utils/checkRespoonseError';\nimport { useEffect } from 'react';\nimport DataResolver from '../Layout/DataResolver';\nimport MoviePage from './MoviePage';\nimport { SerialsApi } from '../../services/serialsAPI';\n\nconst MoviePageProvider = () => {\n  const { id } = useParams();\n  const location = useLocation();\n  const type = location.pathname.split('/').filter((l) => l !== '')[0];\n  console.log(type);\n  const {\n    isLoading: isLoadingMovie,\n    error: errorMovie,\n    data: dataMovie,\n    refetch: refetchMovie,\n  } = useQuery({\n    queryKey: ['movieById', { id }],\n    enabled: false,\n    onSuccess: (data) => {},\n    onError: (error) => {\n      console.log(error);\n    },\n    queryFn: async () => {\n      const response = await MoviesAPI.getMovieById(id);\n      checkResponseError(response);\n      return response.data;\n    },\n  });\n\n  const {\n    isLoading: isLoadingSerial,\n    error: errorSerial,\n    data: dataSerial,\n    refetch: refetchSerial,\n  } = useQuery({\n    queryKey: ['serialById', { id }],\n    enabled: false,\n    onSuccess: (data) => {},\n    onError: (error) => {\n      console.log(error);\n    },\n    queryFn: async () => {\n      const response = await SerialsApi.getSerialById(id);\n      checkResponseError(response);\n      return response.data;\n    },\n  });\n\n  const isTypeMovie = type === 'movie';\n  const isLoading = isTypeMovie ? isLoadingMovie : isLoadingSerial;\n  const error = isTypeMovie ? errorMovie : errorSerial;\n  const data = isTypeMovie ? dataMovie : dataSerial;\n\n  useEffect(() => {\n    isTypeMovie ? refetchMovie(['movieById', { id }]) : refetchSerial(['serialById', { id }]);\n  }, [id]);\n\n  return (\n    <DataResolver data={data} error={error} loading={isLoading}>\n      <MoviePage movie={data} />\n    </DataResolver>\n  );\n};\n\nexport default MoviePageProvider;\n","import { DeleteObjectCommand, GetObjectCommand, PutObjectCommand, S3Client } from '@aws-sdk/client-s3';\nimport { getSignedUrl } from '@aws-sdk/s3-request-presigner';\n\nconst bucketName = process.env.AWS_BUCKET_NAME || 'ojoy';\nconst region = process.env.AWS_BUCKET_REGION || 'eu-central-1';\nconst accessKeyId = process.env.AWS_ACCESS_KEY || 'AKIAXPHMUHUIVWBLWRXF';\nconst secretAccessKey = process.env.AWS_SECRET_ACCESS_KEY || '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';\n\nconst s3Client = new S3Client({\n  region,\n  credentials: {\n    accessKeyId,\n    secretAccessKey,\n  },\n});\n\nexport function uploadFile(fileBuffer, fileName, mimetype) {\n  const uploadParams = {\n    Bucket: bucketName,\n    Body: fileBuffer,\n    Key: fileName,\n    ContentType: mimetype,\n  };\n\n  return s3Client.send(new PutObjectCommand(uploadParams));\n}\n\nexport function deleteFile(fileName) {\n  const deleteParams = {\n    Bucket: bucketName,\n    Key: fileName,\n  };\n\n  return s3Client.send(new DeleteObjectCommand(deleteParams));\n}\n\nexport async function getObjectSignedUrl(key) {\n  const params = {\n    Bucket: bucketName,\n    Key: key,\n  };\n\n  const command = new GetObjectCommand(params);\n  const seconds = 28800; // 8 hours\n  return await getSignedUrl(s3Client, command, { expiresIn: seconds });\n}\n"],"names":["_ref","title","_jsx","className","styles","children","url","_ref$alt","alt","_useState","useState","_useState2","_slicedToArray","signedUrl","setSignedUrl","useEffect","getObjectSignedUrl","then","src","getScreenSize","screenSize","setScreenSize","width","window","innerWidth","handleResize","addEventListener","removeEventListener","setNewUrl","_useState3","_useState4","playing","setPlaying","res","_jsxs","ReactPlayer","controls","volume","onPlay","onPause","playbackRate","onClick","height","viewBox","xmlns","d","fill","Spin","size","spinning","style","translate","position","top","left","movie","name","type","status","genre","studio","createdAt","rating","description","duration","voicing","mainPhotoUrl","photos","episods","episodsCount","length","episode","setEpisode","useScreenSize","SignedImage","join","PageTitle","Carousel","autoplay","dots","swipe","autoplaySpeed","slidesToShow","map","photo","index","VideoPlayer","episod","Button","concat","disabled","id","useParams","useLocation","pathname","split","filter","l","console","log","_useQuery","useQuery","queryKey","enabled","onSuccess","data","onError","error","queryFn","_queryFn","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","MoviesAPI","sent","checkResponseError","abrupt","stop","apply","arguments","isLoadingMovie","isLoading","errorMovie","dataMovie","refetchMovie","refetch","_useQuery2","_queryFn2","_callee2","_context2","SerialsApi","isLoadingSerial","errorSerial","dataSerial","refetchSerial","isTypeMovie","DataResolver","loading","MoviePage","bucketName","process","AWS_BUCKET_NAME","region","AWS_BUCKET_REGION","accessKeyId","AWS_ACCESS_KEY","secretAccessKey","AWS_SECRET_ACCESS_KEY","s3Client","S3Client","credentials","_x","_getObjectSignedUrl","key","params","command","Bucket","Key","GetObjectCommand","getSignedUrl","expiresIn"],"sourceRoot":""}