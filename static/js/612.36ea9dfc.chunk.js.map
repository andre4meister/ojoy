{"version":3,"file":"static/js/612.36ea9dfc.chunk.js","mappings":"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","sources":["webpack://ojoy/./src/components/MainListItem/MainListItem.module.scss?bb3e","components/MainListItem/MainListItem.jsx","webpack://ojoy/./src/components/PageTitle/PageTitle.module.scss?9566","components/PageTitle/PageTitle.jsx","components/SignedImage/SignedImage.jsx","webpack://ojoy/./src/pages/SchedulePage/SchedulePage.module.scss?90e8","pages/SchedulePage/SchedulePage.jsx","pages/SchedulePage/SchedulePageProvider.jsx","s3.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"MainListItem_item__rnepy\",\"item__image\":\"MainListItem_item__image__fkHOi\",\"item__name\":\"MainListItem_item__name__p5lh7\",\"item__info\":\"MainListItem_item__info__J2oM9\"};","import React from 'react';\nimport styles from './MainListItem.module.scss';\nimport { useNavigate } from 'react-router-dom';\nimport SignedImage from '../SignedImage/SignedImage';\n\nconst MainListItem = ({ item, showType = false }) => {\n  const itemCreationYear = item.createdAt.split(' ')[1];\n  const itemInfo = showType ? `${itemCreationYear} ${item.type}` : itemCreationYear;\n\n  const navigate = useNavigate();\n  const navigateToItem = () => {\n    const base = item.type === 'Фільм' ? 'movie' : 'serial';\n    navigate(`/${base}/${item.id}`);\n  };\n\n  return (\n    <li className={styles.item} key={item.id}>\n      <div onClick={navigateToItem} className={styles.item__image}>\n        <SignedImage url={item.mainPhotoUrl} alt={item.name} />\n      </div>\n      <div className={styles.item__name}>{item.name}</div>\n      <div className={styles.item__info}>{itemInfo}</div>\n    </li>\n  );\n};\n\nexport default MainListItem;\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"PageTitle_title__ouGV9\"};","import React from 'react';\nimport styles from './PageTitle.module.scss';\n\nconst PageTitle = ({ title }) => {\n  return <div className={styles.title}>{title}</div>;\n};\n\nexport default PageTitle;\n","import { useEffect, useState } from 'react';\nimport { getObjectSignedUrl } from '../../s3';\n\nconst SignedImage = ({ url, alt = '' }) => {\n  const [signedUrl, setSignedUrl] = useState(null);\n\n  useEffect(() => {\n    getObjectSignedUrl(url).then((signedUrl) => {\n      setSignedUrl(signedUrl);\n    });\n  }, [url]);\n\n  return <img src={signedUrl} alt={alt} />;\n};\n\nexport default SignedImage;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"SchedulePage_container__Hf8K6\",\"schedule\":\"SchedulePage_schedule__rt4fJ\",\"schedule__day\":\"SchedulePage_schedule__day__FtXYS\",\"day__title\":\"SchedulePage_day__title__hn8X9\",\"day__list\":\"SchedulePage_day__list__1jMHA\"};","import styles from './SchedulePage.module.scss';\nimport PageTitle from '../../components/PageTitle/PageTitle';\nimport MainListItem from '../../components/MainListItem/MainListItem';\n\nconst SchedulePage = ({ schedule }) => {\n  const filteredSchedule = schedule.filter((day) => day.items.length > 0);\n\n  return (\n    <div className={styles.container}>\n      <PageTitle title=\"Розклад\" />\n      <div className={styles.schedule}>\n        {filteredSchedule.map((scheduleDay) => (\n          <div className={styles.schedule__day} key={scheduleDay.id}>\n            <div className={styles.day__title}>\n              <h4>{scheduleDay.title}</h4>\n            </div>\n            <ul className={styles.day__list}>\n              {scheduleDay.items.map((movie) => (\n                <MainListItem item={movie} showType={true} key={movie.id} />\n              ))}\n            </ul>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SchedulePage;\n","import React, { useContext } from 'react';\nimport SchedulePage from './SchedulePage';\nimport AppContext from '../../context/AppContext';\nimport DataResolver from '../Layout/DataResolver';\n\nconst SchedulePageProvider = () => {\n  const { actions } = useContext(AppContext);\n  const { isLoading, error, data, refetch } = actions.getSerials;\n\n  const serials = [...data].sort((a, b) => +a.createdAt.split(' ')[1] - +b.createdAt.split(' ')[1]).slice(0, 9);\n\n  const schedule = [\n    {\n      id: 1,\n      title: 'Понеділок',\n      items: serials.slice(0, 3),\n    },\n    {\n      id: 2,\n      title: 'Вівторок',\n      items: serials.slice(3, 6),\n    },\n    {\n      id: 3,\n      title: 'Середа',\n      items: serials.slice(6, 9),\n    },\n    {\n      id: 4,\n      title: 'Четвер',\n      items: [],\n    },\n    {\n      id: 5,\n      title: \"П'ятниця\",\n      items: [],\n    },\n  ];\n\n  return (\n    <DataResolver data={data} loading={isLoading} error={error}>\n      <SchedulePage schedule={schedule} />\n    </DataResolver>\n  );\n};\n\nexport default SchedulePageProvider;\n","import { DeleteObjectCommand, GetObjectCommand, PutObjectCommand, S3Client } from '@aws-sdk/client-s3';\nimport { getSignedUrl } from '@aws-sdk/s3-request-presigner';\n\nconst bucketName = process.env.AWS_BUCKET_NAME || 'ojoy';\nconst region = process.env.AWS_BUCKET_REGION || 'eu-central-1';\nconst accessKeyId = process.env.AWS_ACCESS_KEY || 'AKIAXPHMUHUIVWBLWRXF';\nconst secretAccessKey = process.env.AWS_SECRET_ACCESS_KEY || '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';\n\nconst s3Client = new S3Client({\n  region,\n  credentials: {\n    accessKeyId,\n    secretAccessKey,\n  },\n});\n\nexport function uploadFile(fileBuffer, fileName, mimetype) {\n  const uploadParams = {\n    Bucket: bucketName,\n    Body: fileBuffer,\n    Key: fileName,\n    ContentType: mimetype,\n  };\n\n  return s3Client.send(new PutObjectCommand(uploadParams));\n}\n\nexport function deleteFile(fileName) {\n  const deleteParams = {\n    Bucket: bucketName,\n    Key: fileName,\n  };\n\n  return s3Client.send(new DeleteObjectCommand(deleteParams));\n}\n\nexport async function getObjectSignedUrl(key) {\n  const params = {\n    Bucket: bucketName,\n    Key: key,\n  };\n\n  const command = new GetObjectCommand(params);\n  const seconds = 28800; // 8 hours\n  return await getSignedUrl(s3Client, command, { expiresIn: seconds });\n}\n"],"names":["_ref","item","_ref$showType","showType","itemCreationYear","createdAt","split","itemInfo","concat","type","navigate","useNavigate","_jsxs","className","styles","children","_jsx","onClick","base","id","SignedImage","url","mainPhotoUrl","alt","name","title","_ref$alt","_useState","useState","_useState2","_slicedToArray","signedUrl","setSignedUrl","useEffect","getObjectSignedUrl","then","src","filteredSchedule","schedule","filter","day","items","length","PageTitle","map","scheduleDay","movie","MainListItem","_actions$getSerials","useContext","AppContext","actions","getSerials","isLoading","error","data","serials","refetch","_toConsumableArray","sort","a","b","slice","DataResolver","loading","SchedulePage","bucketName","process","AWS_BUCKET_NAME","region","AWS_BUCKET_REGION","accessKeyId","AWS_ACCESS_KEY","secretAccessKey","AWS_SECRET_ACCESS_KEY","s3Client","S3Client","credentials","_x","_getObjectSignedUrl","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","key","params","command","wrap","_context","prev","next","Bucket","Key","GetObjectCommand","getSignedUrl","expiresIn","abrupt","sent","stop"],"sourceRoot":""}